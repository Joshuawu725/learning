# 数据结构与算法之美



## 复杂度分析

### 为什么需要复杂度分析

事后统计法不足

1.测试结构非常依赖测试环境

2.测试结构受数据规模的影响很大

所以需要一个不用具体的测试数据来测试，就可以粗略的估计计算法的执行效率的方法



### 大O复杂度表示法

代码运行的执行时间T(n)与每行代码的执行次数成正比

当n很大的时候就可以忽略公式中的低阶常量系数等



### 时间复杂度分析

1.只关注循环执行次数最多的一段代码

2.加法法则：总复杂程度等于量级最大的那段代码的复杂度

3.乘法法则：嵌套代码的复杂程度等于嵌套内外代码复杂度的乘积



### 几种常见的时间复杂度实例分析

多项式量级

常量阶O(1)

对数阶O(logn)

线性阶O(n)

线性对数阶O(nlogn)

平方价O(n²) 立方阶O(n³) K次方阶



非多项式量级

指数阶O(2ⁿ)

阶乘阶O(n!)



1.O(1) 

一般情况下，只要算法中不存在循环语句、递归语句即使有成千上万的代码其复杂程度也是O(1)

2.O(logn) O(nlogn)

```
 i=1;
 while (i <= n)  {
   i = i * 2;
 }
```

如果一段代码的时间复杂度是 O(logn)，我们循环执行 n 遍，时间复杂度就是 O(nlogn) 了。而且，O(nlogn) 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 O(nlogn)。

3.O(m+n)、O(m*n)

代码的复杂程度由两个数据的规模决定

```
int cal(int m, int n) {
  int sum_1 = 0;
  int i = 1;
  for (; i < m; ++i) {
    sum_1 = sum_1 + i;
  }

  int sum_2 = 0;
  int j = 1;
  for (; j < n; ++j) {
    sum_2 = sum_2 + j;
  }

  return sum_1 + sum_2;
}
```

由于无法事时限评估m n的量级，所以用加法法则 O(m+n) 



### 空间复杂度

渐进空间复杂度，表示算法的存储空间与数据规模之间的增长关系。

常见的空间复杂度就是 O(1)、O(n)、O(n² )



### 小结

复杂度也叫渐进复杂度，包括时间复杂度和空间复杂度，用来分析算法执行效率与数据规模之间的增长关系，可以粗略地表示，越高阶复杂度的算法，执行效率越低。常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n²  )。

![](img\497a3f120b7debee07dc0d03984faf04.jpg)